{% extends 'base.html' %}

{% block styles %}
    {% load static %}
    <link rel="stylesheet" type="text/css" href="{% static 'css/benchmarks.css' %}">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min.js"></script>
{% endblock %}
{% block content %}
    <div class="card">
        <div id="page-title">TPC-H benchmark details for run {{id}} </div>
    </div>
    <div class="card">
        <span>Below is the chart showing the execution time for each query in Performance test during the run</span>
    </div>

    <div id="benchmarks__config">
        <div class="chart-container" style="position: relative; height:40vh; width:40vw">
            <canvas id="tpch_chart"></canvas>
        </div>
    </div>
<script>

    new Chart(document.getElementById("tpch_chart"), {
    type: 'bar',
    data: {
      labels: {{power_idx}},
      datasets: [
        {
          label: "Power test",
          backgroundColor: "#3e95cd",
          data: {{power_time}}
        }, {
          label: "Throughput test",
          backgroundColor: "#8e5ea2",
          data: {{throughput_time}}
        }
      ]
    },
    options: {
      title: {
        display: true,
        text: 'TPC-H Performance testing'
      }
    }
});
    </script>
{% endblock %}
