{% extends 'base.html' %}
{% block styles %}
    {% load static %}
    <link rel="stylesheet" type="text/css" href="{% static 'css/result.css' %}">
    <script src="{% static 'javascript/common.js' %}"></script>

{% endblock %}
{% block content %}
    {% if results %}
        <div class="card">

            <div id="page-title">Benchmark Result Page : <span id="value_id"></span></div>
            <div class="space-vertical"></div>
            <div>Machine : <a id="link_machine"><span id="value_machine"></span></a></div>
            <div>Branch : <span id="value_branch"></span></div>
            <div>OS : <span id="value_os"></span></div>
            <div>Run : <a id="link_run"><span id="value_run"></span></a></div>
            <div>Commit : <a id="link_commit"><span id="value_commit"></span></a></div>
            <div>Kernel : <span id="value_kernel"></span></div>

        </div>

        <div class="card">

            <div class="title">Benchmark Configuration : <span id="value_config"></span></div>
            <div class="space-vertical"></div>
            <div>Clients : <span id="value_clients"></span></div>
            <div>Scale : <span id="value_scale"></span></div>
            <div><span id="value_read_write"></span></div>
            <div>Iteration : <span id="value_iteration"></span></div>
            <div>TPS : <span id="value_tps"></span></div>
            <div>Latency : <span id="value_latency"></span></div>
            <div>Mode : <span id="value_mode"></span></div>
            <div>Init : <span id="value_init"></span></div>
            <div>Start : <span id="value_start"></span></div>
            <div>End : <span id="value_end"></span></div>

        </div>

        <div class="card">

            <input id="tab1" type="radio" name="tabs" checked>
            <label for="tab1">Statement Latencies</label>

            <input id="tab2" type="radio" name="tabs">
            <label for="tab2">Log</label>

            <input id="tab3" type="radio" name="tabs">
            <label for="tab3">pg_stat_statements</label>

            <input id="tab4" type="radio" name="tabs">
            <label for="tab4">collectd</label>

            <section id="content1">

                <div>

                    <span>Statement latencies for each line.</span>

                    <div class="space-vertical"></div>

                    <table id="result__table__latency" class="table-outline" border="1">

                        <thead>
                            <th>Line</th>
                            <th>Latency</th>
                            <th>Statement</th>
                        </thead>

                        <tbody></tbody>

                    </table>

                </div>

            </section>

            <section id="content2">

                <div>

                    <span>Log produced with aggregate intervals of 1 second.</span>

                    <div class="space-vertical"></div>

                    <table id="result__table__log" class="table-outline" border="1">

                        <thead>
                            <th>Start</th>
                            <th>Transactions</th>
                            <th>Sum Latency</th>
                            <th>Sum Latency 2</th>
                            <th>Min Latency</th>
                            <th>Max Latency</th>
                        </thead>

                        <tbody></tbody>

                    </table>

                </div>

            </section>

            <section id="content3">

                <div>

                    <table id="result__table__pg_stat_statements" class="table-outline" border="1">

                        <thead>
                            <th>query</th>
                            <th>queryid</th>
                            <th>userid</th>
                            <th>dbid</th>
                            <th>plans</th>
                            <th>total_plan_time</th>
                            <th>min_plan_time</th>
                            <th>max_plan_time</th>
                            <th>mean_plan_time</th>
                            <th>stddev_plan_time</th>
                            <th>calls</th>
                            <th>total_exec_time</th>
                            <th>min_exec_time</th>
                            <th>max_exec_time</th>
                            <th>mean_exec_time</th>
                            <th>stddev_exec_time</th>
                            <th>rows</th>
                            <th>shared_blks_hit</th>
                            <th>shared_blks_read</th>
                            <th>shared_blks_dirtied</th>
                            <th>shared_blks_written</th>
                            <th>local_blks_hit</th>
                            <th>local_blks_read</th>
                            <th>local_blks_dirtied</th>
                            <th>local_blks_written</th>
                            <th>temp_blks_read</th>
                            <th>temp_blks_written</th>
                            <th>blk_read_time</th>
                            <th>blk_write_time</th>
                            <th>wal_records</th>
                            <th>wal_fpi</th>
                            <th>wal_bytes</th>
                        </thead>

                        <tbody></tbody>

                    </table>

                </div>

            </section>

            <section id="content4">

                <div>

                    <span>CPU Average</span>

                    <div class="space-vertical"></div>

                    <table id="result__table__cpu" class="table-outline" border="1">

                        <thead>
                            <th>epoch</th>
                            <th>percent_user</th>
                            <th>percent_system</th>
                            <th>percent_idle</th>
                            <th>percent_wait</th>
                            <th>percent_nice</th>
                            <th>percent_interrupt</th>
                            <th>percent_softirq</th>
                            <th>percent_steal</th>
                        </thead>

                        <tbody></tbody>

                    </table>

                    <div class="space-vertical"></div>

                    <span>Processes</span>

                    <div class="space-vertical"></div>

                    <table id="result__table__processes" class="table-outline" border="1">

                        <thead>
                            <th>epoch</th>
                            <th>fork_rate</th>
                            <th>ps_state_running</th>
                            <th>ps_state_stopped</th>
                            <th>ps_state_sleeping</th>
                            <th>ps_state_paging</th>
                            <th>ps_state_blocked</th>
                            <th>ps_state_zombies</th>
                        </thead>

                        <tbody></tbody>

                    </table>

                    <div class="space-vertical"></div>

                    <span>Contextswitch</span>

                    <div class="space-vertical"></div>

                    <table id="result__table__contextswitch" class="table-outline" border="1">

                        <thead>
                            <th>epoch</th>
                            <th>contextswitch</th>
                        </thead>

                        <tbody></tbody>

                    </table>

                    <div class="space-vertical"></div>

                    <span>IPC shm</span>

                    <div class="space-vertical"></div>

                    <table id="result__table__ipc_shm" class="table-outline" border="1">

                        <thead>
                            <th>epoch</th>
                            <th>segments</th>
                            <th>bytes_total</th>
                            <th>bytes_rss</th>
                            <th>bytes_swapped</th>
                        </thead>

                        <tbody></tbody>

                    </table>

                    <div class="space-vertical"></div>

                    <span>IPC msg</span>

                    <div class="space-vertical"></div>

                    <table id="result__table__ipc_msg" class="table-outline" border="1">

                        <thead>
                            <th>epoch</th>
                            <th>count_space</th>
                            <th>count_queues</th>
                            <th>count_headers</th>
                        </thead>

                        <tbody></tbody>

                    </table>

                    <div class="space-vertical"></div>

                    <span>IPC sem</span>

                    <div class="space-vertical"></div>

                    <table id="result__table__ipc_sem" class="table-outline" border="1">

                        <thead>
                            <th>epoch</th>
                            <th>count_total</th>
                            <th>count_arrays</th>
                        </thead>

                        <tbody></tbody>

                    </table>

                    <div class="space-vertical"></div>

                    <span>Memory</span>

                    <div class="space-vertical"></div>

                    <table id="result__table__memory" class="table-outline" border="1">

                        <thead>
                            <th>epoch</th>
                            <th>memory_free</th>
                            <th>memory_used</th>
                            <th>memory_cached</th>
                            <th>memory_buffered</th>
                            <th>memory_slab_recl</th>
                            <th>memory_slab_unrecl</th>
                        </thead>

                        <tbody></tbody>

                    </table>

                    <div class="space-vertical"></div>

                    <span>Swap</span>

                    <div class="space-vertical"></div>

                    <table id="result__table__swap" class="table-outline" border="1">

                        <thead>
                            <th>epoch</th>
                            <th>swap_free</th>
                            <th>swap_used</th>
                            <th>swap_cached</th>
                            <th>swap_io_in</th>
                            <th>swap_io_out</th>
                        </thead>

                        <tbody></tbody>

                    </table>

                    <div class="space-vertical"></div>

                    <span>Vmem</span>

                    <div class="space-vertical"></div>

                    <table id="result__table__vmem" class="table-outline" border="1">

                        <thead>
                            <th>epoch</th>
                            <th>vmpage_number_active_file</th>
                            <th>vmpage_number_inactive_file</th>
                            <th>vmpage_number_isolated_file</th>
                        </thead>

                        <tbody></tbody>

                    </table>

                </div>

            </section>

        </div>
{{ results|json_script:"my_results" }}
<script>
    (function() {
        const latencyTableBodyElement = document.getElementById('result__table__latency').getElementsByTagName('tbody')[0];
        const logTableBodyElement = document.getElementById('result__table__log').getElementsByTagName('tbody')[0];
        const pgStatStatementsTableBodyElement = document.getElementById('result__table__pg_stat_statements').getElementsByTagName('tbody')[0];
        const cpuTableBodyElement = document.getElementById('result__table__cpu').getElementsByTagName('tbody')[0];
        const processesTableBodyElement = document.getElementById('result__table__processes').getElementsByTagName('tbody')[0];
        const contextswitchTableBodyElement = document.getElementById('result__table__contextswitch').getElementsByTagName('tbody')[0];
        const ipcShmTableBodyElement = document.getElementById('result__table__ipc_shm').getElementsByTagName('tbody')[0];
        const ipcMsgTableBodyElement = document.getElementById('result__table__ipc_msg').getElementsByTagName('tbody')[0];
        const ipcSemTableBodyElement = document.getElementById('result__table__ipc_sem').getElementsByTagName('tbody')[0];
        const memoryTableBodyElement = document.getElementById('result__table__memory').getElementsByTagName('tbody')[0];
        const swapTableBodyElement = document.getElementById('result__table__swap').getElementsByTagName('tbody')[0];
        const vmemTableBodyElement = document.getElementById('result__table__vmem').getElementsByTagName('tbody')[0];

        my_res = JSON.parse(document.getElementById('my_results').textContent)
        response = my_res[0];
        const clients = response.benchmark_config[0].clients;
        const scale = response.benchmark_config[0].scale;
        const duration = response.benchmark_config[0].duration;

        let read_only = '';
        if (response.benchmark_config[0].read_only == true) read_only = 'read-only test';
        else read_only = 'read-write test';

        const config = response.benchmark_config[0].pgbench_benchmark_id;

        const tps = response.tps;
        const latency = response.latency;
        const init = response.init;
        const start = new Date(response.start * 1000).toLocaleTimeString();
        const end = new Date(response.end * 1000).toLocaleTimeString();
        const mode = response.mode;
        const iteration = response.iteration;

        const id = response.pgbench_result_id
        const alias = response.run_id_id__machine_id__alias;
        const machine_id = response.run_id_id__machine_id;
        const os = response.run_id_id__os_version_id__dist_id_id__dist_name + ' ' + response.run_id_id__os_version_id__release;
        const branch = response.run_id_id__git_branch_id__name;
        const kernel = response.run_id_id__os_kernel_version_id_id__kernel_id__kernel_name + ' ' + response.run_id_id__os_kernel_version_id__kernel_release;
        const run = response.run_id_id;
        const commit = 'https://git.postgresql.org/gitweb/?p=postgresql.git;a=commit;h=' + response.run_id_id__git_commit;

        let results = {};

        for (let i = 0; i < response.pgbench_run_statement.length; i++) {

            const result = {
                "line": response.pgbench_run_statement[i].line_id,
                "latency": response.pgbench_run_statement[i].latency,
                "statement": response.pgbench_run_statement[i].statements[0].statement
            };

            results[response.pgbench_run_statement[i].line_id] = result;

        }

        let log = {};

        for (let i = 0; i < response.pgbench_log.length; i++) {

            const single_result = {
                "interval_start": new Date(response.pgbench_log[i].interval_start).toLocaleTimeString(),
                "num_transactions": response.pgbench_log[i].num_transactions,
                "sum_latency": response.pgbench_log[i].sum_latency,
                "sum_latency_2": response.pgbench_log[i].sum_latency_2,
                "min_latency": response.pgbench_log[i].min_latency,
                "max_latency": response.pgbench_log[i].max_latency,
            };

            log[response.pgbench_log[i].pgbench_log_id] = single_result;

        }

        let pg_stat_statements = {};

        response.pg_stat_statements.map((item) => {

            pg_stat_statements[item.pg_stat_statements_id] = item;

        });

        let collectd_cpu = {};

        for (let i = 0; i < response.collectd.cpu.length; i++) {

            const single_result = {
                "epoch": response.collectd.cpu[i].epoch,
                "percent_user": response.collectd.cpu[i].percent_user,
                "percent_system": response.collectd.cpu[i].percent_system,
                "percent_idle": response.collectd.cpu[i].percent_idle,
                "epopercent_waitch": response.collectd.cpu[i].percent_wait,
                "percent_nice": response.collectd.cpu[i].percent_nice,
                "percent_interrupt": response.collectd.cpu[i].percent_interrupt,
                "percent_softirq": response.collectd.cpu[i].percent_softirq,
                "percent_steal": response.collectd.cpu[i].percent_steal,
            };

            collectd_cpu[response.collectd.cpu[i].collectd_cpu_id] = single_result;

        }

        let collectd_process = {};

        for (let i = 0; i < response.collectd.process.length; i++) {

            const single_result = {
                "epoch": response.collectd.process[i].epoch,
                "fork_rate": response.collectd.process[i].fork_rate,
                "ps_state_running": response.collectd.process[i].ps_state_running,
                "ps_state_stopped": response.collectd.process[i].ps_state_stopped,
                "ps_state_sleeping": response.collectd.process[i].ps_state_sleeping,
                "ps_state_paging": response.collectd.process[i].ps_state_paging,
                "ps_state_blocked": response.collectd.process[i].ps_state_blocked,
                "ps_state_zombies": response.collectd.process[i].ps_state_zombies,
            };

            collectd_process[response.collectd.process[i].collectd_process_id] = single_result;

        }

        let collectd_contextswitch = {};

        for (let i = 0; i < response.collectd.contextswitch.length; i++) {

            const single_result = {
                "epoch": response.collectd.contextswitch[i].epoch,
                "contextswitch": response.collectd.contextswitch[i].contextswitch,
            };

            collectd_contextswitch[response.collectd.contextswitch[i].collectd_contextswitch_id] = single_result;

        }

        let collectd_ipc_shm = {};

        for (let i = 0; i < response.collectd.ipc_shm.length; i++) {

            const single_result = {
                "epoch": response.collectd.ipc_shm[i].epoch,
                "segments": response.collectd.ipc_shm[i].segments,
                "bytes_total": response.collectd.ipc_shm[i].bytes_total,
                "bytes_rss": response.collectd.ipc_shm[i].bytes_rss,
                "bytes_swapped": response.collectd.ipc_shm[i].bytes_swapped,
            };

            collectd_ipc_shm[response.collectd.ipc_shm[i].collectd_ipc_shm_id] = single_result;

        }

        let collectd_ipc_msg = {};

        for (let i = 0; i < response.collectd.ipc_msg.length; i++) {

            const single_result = {
                "epoch": response.collectd.ipc_msg[i].epoch,
                "count_space": response.collectd.ipc_msg[i].count_space,
                "count_queues": response.collectd.ipc_msg[i].count_queues,
                "count_headers": response.collectd.ipc_msg[i].count_headers,
            };

            collectd_ipc_msg[response.collectd.ipc_msg[i].collectd_ipc_msg_id] = single_result;

        }

        let collectd_ipc_sem = {};

        for (let i = 0; i < response.collectd.ipc_sem.length; i++) {

            const single_result = {
                "epoch": response.collectd.ipc_sem[i].epoch,
                "count_total": response.collectd.ipc_sem[i].count_total,
                "count_arrays": response.collectd.ipc_sem[i].count_arrays,
            };

            collectd_ipc_sem[response.collectd.ipc_sem[i].collectd_ipc_sem_id] = single_result;

        }

        let collectd_memory = {};

        for (let i = 0; i < response.collectd.memory.length; i++) {

            const single_result = {
                "epoch": response.collectd.memory[i].epoch,
                "memory_free": response.collectd.memory[i].memory_free,
                "memory_used": response.collectd.memory[i].memory_used,
                "memory_cached": response.collectd.memory[i].memory_cached,
                "memory_buffered": response.collectd.memory[i].memory_buffered,
                "memory_slab_recl": response.collectd.memory[i].memory_slab_recl,
                "memory_slab_unrecl": response.collectd.memory[i].memory_slab_unrecl,
            };

            collectd_memory[response.collectd.memory[i].collectd_memory_id] = single_result;

        }

        let collectd_swap = {};

        for (let i = 0; i < response.collectd.swap.length; i++) {

            const single_result = {
                "epoch": response.collectd.swap[i].epoch,
                "swap_free": response.collectd.swap[i].swap_free,
                "swap_used": response.collectd.swap[i].swap_used,
                "swap_cached": response.collectd.swap[i].swap_cached,
                "swap_io_in": response.collectd.swap[i].swap_io_in,
                "swap_io_out": response.collectd.swap[i].swap_io_out,
            };

            collectd_swap[response.collectd.swap[i].collectd_swap_id] = single_result;

        }

        let collectd_vmem = {};

        for (let i = 0; i < response.collectd.vmem.length; i++) {

            const single_result = {
                "epoch": response.collectd.vmem[i].epoch,
                "vmpage_number_active_file": response.collectd.vmem[i].vmpage_number_active_file,
                "vmpage_number_inactive_file": response.collectd.vmem[i].vmpage_number_inactive_file,
                "vmpage_number_isolated_file": response.collectd.vmem[i].vmpage_number_isolated_file,
            };

            collectd_vmem[response.collectd.vmem[i].collectd_vmem_id] = single_result;

        }

        document.querySelector('#value_id').innerHTML = id;
        document.querySelector('#value_machine').innerHTML = alias;
        document.querySelector('#value_branch').innerHTML = branch;
        document.querySelector('#value_os').innerHTML = os;
        document.querySelector('#value_run').innerHTML = run;
        document.querySelector('#value_commit').innerHTML = commit;
        document.querySelector('#value_kernel').innerHTML = kernel;
        document.querySelector('#value_config').innerHTML = config;
        document.querySelector('#value_clients').innerHTML = clients;
        document.querySelector('#value_scale').innerHTML = scale;
        document.querySelector('#value_read_write').innerHTML = read_only;
        document.querySelector('#value_iteration').innerHTML = iteration;
        document.querySelector('#value_tps').innerHTML = formatNumberRound(tps);
        document.querySelector('#value_latency').innerHTML = latency;
        document.querySelector('#value_mode').innerHTML = mode;
        document.querySelector('#value_init').innerHTML = init;
        document.querySelector('#value_start').innerHTML = start;
        document.querySelector('#value_end').innerHTML = end;

        document.querySelector('#link_machine').href = '/machine?id=' + machine_id;
        document.querySelector('#link_run').href = '/run?id=' + run;
        document.querySelector('#link_commit').href = commit;

        let latencyTableBodyContent = '';

        for(const item of Object.values(results)) {

            latencyTableBodyContent += `
            <tr>
                <td>${escapeHtml(item.line)}</td>
                <td>${escapeHtml(item.latency)}</td>
                <td>${escapeHtml(item.statement)}</td>
            </tr>
            `;

        }

        latencyTableBodyElement.innerHTML = latencyTableBodyContent;

        let logTableBodyContent = '';

        for(const item of Object.values(log)) {

            logTableBodyContent += `
            <tr>
                <td>${escapeHtml(item.interval_start)}</td>
                <td>${escapeHtml(formatNumber(item.num_transactions))}</td>
                <td>${escapeHtml(formatNumber(item.sum_latency))}</td>
                <td>${escapeHtml(formatNumber(item.sum_latency_2))}</td>
                <td>${escapeHtml(formatNumber(item.min_latency))}</td>
                <td>${escapeHtml(formatNumber(item.max_latency))}</td>
            </tr>
            `;

        }

        logTableBodyElement.innerHTML = logTableBodyContent;

        let pgStatStatementsTableBodyContent = '';

        for(const item of Object.values(pg_stat_statements)) {

            pgStatStatementsTableBodyContent += `
            <tr>
                <td>${escapeHtml(item.query)}</td>
                <td>${item.queryid}</td>
                <td>${item.userid}</td>
                <td>${item.dbid}</td>
                <td>${item.plans}</td>
                <td>${item.total_plan_time}</td>
                <td>${item.min_plan_time}</td>
                <td>${item.max_plan_time}</td>
                <td>${item.mean_plan_time}</td>
                <td>${item.stddev_plan_time}</td>
                <td>${item.calls}</td>
                <td>${item.total_exec_time}</td>
                <td>${item.min_exec_time}</td>
                <td>${item.max_exec_time}</td>
                <td>${item.mean_exec_time}</td>
                <td>${item.stddev_exec_time}</td>
                <td>${item.rows}</td>
                <td>${item.shared_blks_hit}</td>
                <td>${item.shared_blks_read}</td>
                <td>${item.shared_blks_dirtied}</td>
                <td>${item.shared_blks_written}</td>
                <td>${item.local_blks_hit}</td>
                <td>${item.local_blks_read}</td>
                <td>${item.local_blks_dirtied}</td>
                <td>${item.local_blks_written}</td>
                <td>${item.temp_blks_read}</td>
                <td>${item.temp_blks_written}</td>
                <td>${item.blk_read_time}</td>
                <td>${item.blk_write_time}</td>
                <td>${item.wal_records}</td>
                <td>${item.wal_fpi}</td>
                <td>${item.wal_bytes}</td>
            </tr>
            `;

        }

        pgStatStatementsTableBodyElement.innerHTML = pgStatStatementsTableBodyContent;

        let cpuTableBodyContent = '';

        for(const item of Object.values(collectd_cpu)) {

            cpuTableBodyContent += `
            <tr>
                <td>${item.epoch}</td>
                <td>${item.percent_user}</td>
                <td>${item.percent_system}</td>
                <td>${item.percent_idle}</td>
                <td>${item.percent_wait}</td>
                <td>${item.percent_nice}</td>
                <td>${item.percent_interrupt}</td>
                <td>${item.percent_softirq}</td>
                <td>${item.percent_steal}</td>
            </tr>
            `;

        }

        cpuTableBodyElement.innerHTML = cpuTableBodyContent;

        let processesTableBodyContent = '';

        for(const item of Object.values(collectd_process)) {

            processesTableBodyContent += `
            <tr>
                <td>${item.epoch}</td>
                <td>${item.fork_rate}</td>
                <td>${item.ps_state_running}</td>
                <td>${item.ps_state_stopped}</td>
                <td>${item.ps_state_sleeping}</td>
                <td>${item.ps_state_paging}</td>
                <td>${item.ps_state_blocked}</td>
                <td>${item.ps_state_zombies}</td>
            </tr>
            `;

        }

        processesTableBodyElement.innerHTML = processesTableBodyContent;

        let contextswitchTableBodyContent = '';

        for(const item of Object.values(collectd_contextswitch)) {

            contextswitchTableBodyContent += `
            <tr>
                <td>${item.epoch}</td>
                <td>${item.contextswitch}</td>
            </tr>
            `;

        }

        contextswitchTableBodyElement.innerHTML = contextswitchTableBodyContent;

        let ipcShmTableBodyContent = '';

        for(const item of Object.values(collectd_ipc_shm)) {

            ipcShmTableBodyContent += `
            <tr>
                <td>${item.epoch}</td>
                <td>${item.segments}</td>
                <td>${item.bytes_total}</td>
                <td>${item.bytes_rss}</td>
                <td>${item.bytes_swapped}</td>
            </tr>
            `;

        }

        ipcShmTableBodyElement.innerHTML = ipcShmTableBodyContent;

        let ipcMsgTableBodyContent = '';

        for(const item of Object.values(collectd_ipc_msg)) {

            ipcMsgTableBodyContent += `
            <tr>
                <td>${item.epoch}</td>
                <td>${item.count_space}</td>
                <td>${item.count_queues}</td>
                <td>${item.count_headers}</td>
            </tr>
            `;

        }

        ipcMsgTableBodyElement.innerHTML = ipcMsgTableBodyContent;

        let ipcSemTableBodyContent = '';

        for(const item of Object.values(collectd_ipc_sem)) {

            ipcSemTableBodyContent += `
            <tr>
                <td>${item.epoch}</td>
                <td>${item.count_total}</td>
                <td>${item.count_arrays}</td>
            </tr>
            `;

        }

        ipcSemTableBodyElement.innerHTML = ipcSemTableBodyContent;

        let memoryTableBodyContent = '';

        for(const item of Object.values(collectd_memory)) {

            memoryTableBodyContent += `
            <tr>
                <td>${item.epoch}</td>
                <td>${item.memory_free}</td>
                <td>${item.memory_used}</td>
                <td>${item.memory_cached}</td>
                <td>${item.memory_buffered}</td>
                <td>${item.memory_slab_recl}</td>
                <td>${item.memory_slab_unrecl}</td>
            </tr>
            `;

        }

        memoryTableBodyElement.innerHTML = memoryTableBodyContent;

        let swapTableBodyContent = '';

        for(const item of Object.values(collectd_swap)) {

            swapTableBodyContent += `
            <tr>
                <td>${item.epoch}</td>
                <td>${item.swap_free}</td>
                <td>${item.swap_used}</td>
                <td>${item.swap_cached}</td>
                <td>${item.swap_io_in}</td>
                <td>${item.swap_io_out}</td>
            </tr>
            `;

        }

        swapTableBodyElement.innerHTML = swapTableBodyContent;

        let vmemTableBodyContent = '';

        for(const item of Object.values(collectd_vmem)) {

            vmemTableBodyContent += `
            <tr>
                <td>${item.epoch}</td>
                <td>${item.vmpage_number_active_file}</td>
                <td>${item.vmpage_number_inactive_file}</td>
                <td>${item.vmpage_number_isolated_file}</td>
            </tr>
            `;

        }

        vmemTableBodyElement.innerHTML = vmemTableBodyContent;
})();
    </script>
    {% endif %}
{% endblock %}